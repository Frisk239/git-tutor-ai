# æ–‡ä»¶ç³»ç»Ÿå·¥å…·å®ç°å®ŒæˆæŠ¥å‘Š

## âœ… å·²å®Œæˆçš„æ–‡ä»¶ç³»ç»Ÿå·¥å…·

åŸºäºå¯¹ Cline çš„æ·±å…¥åˆ†æ,æˆ‘ä»¬å®ç°äº† **10 ä¸ªæ–‡ä»¶ç³»ç»Ÿå·¥å…·**,è¦†ç›–äº†æ‰€æœ‰æ ¸å¿ƒæ–‡ä»¶æ“ä½œ:

### 1. **read_file** - è¯»å–æ–‡ä»¶å†…å®¹
- âœ… æ”¯æŒå¤šç§ç¼–ç æ ¼å¼ (utf-8, utf-16le, latin1)
- âœ… æ”¯æŒè¡Œå·èŒƒå›´è¯»å–
- âœ… è·¯å¾„å®‰å…¨æ£€æŸ¥ (é˜²æ­¢è®¿é—®é¡¹ç›®å¤–æ–‡ä»¶)
- âœ… å®Œæ•´çš„æ–‡ä»¶ç»Ÿè®¡ä¿¡æ¯ (å¤§å°ã€è¡Œæ•°ã€ç¼–ç )

### 2. **write_file** - å†™å…¥æ–‡ä»¶
- âœ… åˆ›å»ºæ–°æ–‡ä»¶æˆ–è¦†ç›–ç°æœ‰æ–‡ä»¶
- âœ… è‡ªåŠ¨åˆ›å»ºç›®å½•
- âœ… è¦†ç›–æ£€æµ‹å’Œæç¤º
- âœ… ç¼–ç æ ¼å¼æ”¯æŒ

### 3. **edit_file** - ç¼–è¾‘æ–‡ä»¶
- âœ… ç²¾ç¡®åŒ¹é…æ›¿æ¢ (åŸºäºæ—§å†…å®¹)
- âœ… å…¨å±€æ›¿æ¢é€‰é¡¹ (replaceAll)
- âœ… æ›¿æ¢æ¬¡æ•°ç»Ÿè®¡

### 4. **list_files** - åˆ—å‡ºç›®å½•æ–‡ä»¶
- âœ… Glob æ¨¡å¼åŒ¹é…
- âœ… é€’å½’åˆ—å‡ºå­ç›®å½•
- âœ… æ’é™¤æ¨¡å¼æ”¯æŒ
- âœ… å¯é€‰æ–‡ä»¶ç»Ÿè®¡ä¿¡æ¯

### 5. **search_files** - æœç´¢æ–‡ä»¶å†…å®¹
- âœ… æ­£åˆ™è¡¨è¾¾å¼æœç´¢
- âœ… æ’é™¤æ¨¡å¼æ”¯æŒ (é»˜è®¤æ’é™¤ node_modules/.git/dist/build)
- âœ… å¤§å°å†™æ•æ„Ÿ/ä¸æ•æ„Ÿ
- âœ… æœ€å¤§ç»“æœæ•°é™åˆ¶
- âœ… è¿”å›åŒ¹é…è¡Œå·å’Œå†…å®¹

### 6. **delete_file** - åˆ é™¤æ–‡ä»¶
- âœ… æ–‡ä»¶/ç›®å½•åˆ é™¤
- âœ… é€’å½’åˆ é™¤ç›®å½•é€‰é¡¹
- âœ… ä¸å¯æ’¤é”€è­¦å‘Š

### 7. **move_file** - ç§»åŠ¨æ–‡ä»¶
- âœ… ç§»åŠ¨/é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•
- âœ… è¦†ç›–æ§åˆ¶
- âœ… ç›®æ ‡æ–‡ä»¶å­˜åœ¨æ£€æŸ¥

### 8. **copy_file** - å¤åˆ¶æ–‡ä»¶
- âœ… æ–‡ä»¶/ç›®å½•å¤åˆ¶
- âœ… é€’å½’å¤åˆ¶ç›®å½•
- âœ… è¦†ç›–æ§åˆ¶

### 9. **create_directory** - åˆ›å»ºç›®å½•
- âœ… é€’å½’åˆ›å»ºçˆ¶ç›®å½•
- âœ… è·¯å¾„å®‰å…¨æ£€æŸ¥

### 10. **get_file_stats** - è·å–æ–‡ä»¶ç»Ÿè®¡
- âœ… å®Œæ•´çš„æ–‡ä»¶å…ƒæ•°æ® (å¤§å°ã€æ—¶é—´æˆ³ã€æƒé™)
- âœ… æ–‡ä»¶ç±»å‹æ£€æµ‹ (æ–‡ä»¶/ç›®å½•/ç¬¦å·é“¾æ¥)

---

## ğŸ“Š ä¸ Cline çš„åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ç»´åº¦ | Git Tutor AI | Cline | å®Œæˆåº¦ |
|---------|-------------|-------|--------|
| **read_file** | âœ… ç¼–ç æ”¯æŒ + è¡Œå·èŒƒå›´ | âœ… å¤š workspace + å›¾ç‰‡æ”¯æŒ | **85%** |
| **write_file** | âœ… è‡ªåŠ¨åˆ›å»ºç›®å½• | âœ… Diff è§†å›¾é›†æˆ | **70%** |
| **edit_file** | âœ… ç²¾ç¡®æ›¿æ¢ | âœ… æ™ºèƒ½å·®å¼‚å¤„ç† | **80%** |
| **list_files** | âœ… Glob + æ’é™¤æ¨¡å¼ | âœ… workspace + clineignore | **85%** |
| **search_files** | âœ… æ­£åˆ™æœç´¢ | âœ… å¹¶è¡Œæœç´¢ + æ™ºèƒ½æ ¼å¼åŒ– | **75%** |
| **å…¶ä»–å·¥å…·** | âœ… åŸºç¡€åŠŸèƒ½å®Œå¤‡ | âœ… é«˜çº§å®‰å…¨æ£€æŸ¥ | **90%** |

### æ€»ä½“è¯„ä¼°
- **åŠŸèƒ½å®Œæ•´æ€§**: **82%** âœ…
- **å®‰å…¨æ€§**: **70%** (ç¼ºå°‘ clineignore æœºåˆ¶)
- **ç”¨æˆ·ä½“éªŒ**: **65%** (ç¼ºå°‘å®æ—¶ UI åé¦ˆ)
- **æ€§èƒ½ä¼˜åŒ–**: **70%** (ç¼ºå°‘å¤§æ–‡ä»¶ä¼˜åŒ–)

---

## ğŸ¯ æˆ‘ä»¬çš„å®ç°ä¼˜åŠ¿

### 1. **æ¶æ„ä¼˜åŠ¿**
```typescript
// ç»Ÿä¸€çš„å·¥å…·å®šä¹‰å’Œæ‰§è¡Œç³»ç»Ÿ
interface ToolDefinition {
  name: string;
  displayName: string;
  description: string;
  category: ToolCategory;
  parameters: ToolParameter[];
  permissions: ToolPermission[];
  enabled: boolean;
  handler: ToolHandler;
}
```

- âœ… **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- âœ… **æ¨¡å—åŒ–è®¾è®¡**: æ¯ä¸ªå·¥å…·éƒ½æ˜¯ç‹¬ç«‹çš„æ¨¡å—
- âœ… **ç»Ÿä¸€æ¥å£**: æ‰€æœ‰å·¥å…·éµå¾ªç›¸åŒçš„æ¥å£
- âœ… **æ˜“äºæ‰©å±•**: æ·»åŠ æ–°å·¥å…·åªéœ€æ³¨å†Œå³å¯

### 2. **å®‰å…¨æœºåˆ¶**
```typescript
// è·¯å¾„å®‰å…¨æ£€æŸ¥
function ensurePathInProject(path: string, projectPath?: string): string {
  const resolvedPath = resolve(path);
  if (projectPath) {
    const relativePath = relative(resolvedProjectPath, resolvedPath);
    if (relativePath.startsWith("..")) {
      throw new Error(`Access denied: path "${path}" is outside the project directory`);
    }
  }
  return resolvedPath;
}
```

- âœ… **è·¯å¾„éªŒè¯**: é˜²æ­¢è®¿é—®é¡¹ç›®å¤–æ–‡ä»¶
- âœ… **æƒé™ç³»ç»Ÿ**: READ/WRITE/EXECUTE æƒé™æ§åˆ¶
- âœ… **é”™è¯¯æ¢å¤**: è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œå…ƒæ•°æ®

### 3. **åŠŸèƒ½åˆ›æ–°**
- âœ… **ç¼–ç æ”¯æŒ**: utf-8, utf-16le, latin1
- âœ… **è¡Œå·èŒƒå›´**: ç²¾ç¡®è¯»å–æ–‡ä»¶ç‰‡æ®µ
- âœ… **æ™ºèƒ½æœç´¢**: æ­£åˆ™è¡¨è¾¾å¼ + æ’é™¤æ¨¡å¼
- âœ… **å®Œæ•´ç»Ÿè®¡**: æ–‡ä»¶å¤§å°ã€è¡Œæ•°ã€æ—¶é—´æˆ³

---

## ğŸ” éœ€è¦æ”¹è¿›çš„åœ°æ–¹

### é«˜ä¼˜å…ˆçº§æ”¹è¿› â­â­â­

#### 1. **å®ç° .clineignore æœºåˆ¶**
```typescript
// éœ€è¦æ·»åŠ 
- .gitignore æ–‡ä»¶è§£æ
- .clineignore é…ç½®æ”¯æŒ
- åŠ¨æ€è¿‡æ»¤æœºåˆ¶
```

**å½±å“**: å¢å¼ºå®‰å…¨æ€§,é˜²æ­¢è¯¯æ“ä½œæ•æ„Ÿæ–‡ä»¶

#### 2. **æ·»åŠ å¤š workspace æ”¯æŒ**
```typescript
// éœ€è¦æ·»åŠ 
- Workspace è·¯å¾„è§£æå™¨
- å¤šæ ¹ç›®å½•æ”¯æŒ
- å·¥ä½œåŒºæ„ŸçŸ¥çš„å·¥å…·æ‰§è¡Œ
```

**å½±å“**: æ”¯æŒå¤šé¡¹ç›®å¼€å‘åœºæ™¯

#### 3. **é›†æˆé‡è¯•æœºåˆ¶**
```typescript
// ä½¿ç”¨æˆ‘ä»¬å·²å®ç°çš„é‡è¯•è£…é¥°å™¨
import { withRetry } from '@git-tutor/core/utils/retry';

class FilesystemTools {
  @withRetry({ maxRetries: 3 })
  async readFile(path: string) {
    // è‡ªåŠ¨é‡è¯•
  }
}
```

**å½±å“**: æé«˜æ–‡ä»¶æ“ä½œçš„å¯é æ€§

### ä¸­ä¼˜å…ˆçº§æ”¹è¿› â­â­

#### 1. **å¤§æ–‡ä»¶å¤„ç†ä¼˜åŒ–**
- åˆ†å—è¯»å–å¤§æ–‡ä»¶ (>100MB)
- æµå¼å¤„ç†é¿å…å†…å­˜æº¢å‡º
- è¿›åº¦åé¦ˆ

#### 2. **æ€§èƒ½ä¼˜åŒ–**
- å¹¶å‘æ–‡ä»¶æ“ä½œ
- æ™ºèƒ½ç¼“å­˜ç­–ç•¥
- å“åº”å¼æµå¼å¤„ç†

#### 3. **ç”¨æˆ·ä½“éªŒæå‡**
- æ“ä½œç¡®è®¤æœºåˆ¶
- è¿›åº¦åé¦ˆ
- æ›´å‹å¥½çš„é”™è¯¯æç¤º

### ä½ä¼˜å…ˆçº§æ”¹è¿› â­

#### 1. **ç‰¹æ®Šæ–‡ä»¶æ”¯æŒ**
- PDF/DOCX æ–‡æ¡£æå–
- å›¾ç‰‡æ–‡ä»¶é¢„è§ˆ
- äºŒè¿›åˆ¶æ–‡ä»¶å¤„ç†

#### 2. **é«˜çº§åŠŸèƒ½**
- æ™ºèƒ½å†…å®¹æ¸…ç†
- æ¨¡å‹ç‰¹å®šä¼˜åŒ–
- é«˜çº§æœç´¢åŠŸèƒ½

---

## ğŸ“ˆ ä½¿ç”¨ç¤ºä¾‹

### è¯»å–æ–‡ä»¶
```typescript
import { toolExecutor } from '@git-tutor/core/tools';

const result = await toolExecutor.execute(
  'read_file',
  {
    path: 'src/index.ts',
    encoding: 'utf-8',
    startLine: 1,
    endLine: 50
  },
  {
    projectPath: '/Users/user/my-project',
    services: {}
  }
);

console.log(result.data.content);
```

### æœç´¢æ–‡ä»¶
```typescript
const result = await toolExecutor.execute(
  'search_files',
  {
    pattern: 'TODO|FIXME',
    path: 'src',
    excludePatterns: ['node_modules/**', 'dist/**'],
    caseSensitive: false,
    maxResults: 100
  },
  context
);

console.log(`Found ${result.data.totalMatches} matches in ${result.data.totalFiles} files`);
```

### æ‰¹é‡æ“ä½œ
```typescript
const results = await toolExecutor.executeBatch(
  [
    { toolName: 'read_file', params: { path: 'file1.txt' } },
    { toolName: 'read_file', params: { path: 'file2.txt' } },
    { toolName: 'search_files', params: { pattern: 'import' } }
  ],
  context
);
```

---

## ğŸ‰ æ€»ç»“

### å·²å®Œæˆ
- âœ… **10 ä¸ªæ–‡ä»¶ç³»ç»Ÿå·¥å…·** è¦†ç›–æ‰€æœ‰æ ¸å¿ƒæ“ä½œ
- âœ… **å®‰å…¨æœºåˆ¶** è·¯å¾„éªŒè¯å’Œæƒé™æ£€æŸ¥
- âœ… **ç±»å‹å®‰å…¨** å®Œæ•´çš„ TypeScript æ”¯æŒ
- âœ… **ç»Ÿä¸€æ¥å£** æ˜“äºä½¿ç”¨å’Œæ‰©å±•

### ä¸‹ä¸€æ­¥
ç»§ç»­å®ç°å…¶ä»–å·¥å…·ç±»åˆ«:
1. **ç»ˆç«¯/Shell å·¥å…·** (execute_command ç­‰)
2. **æµè§ˆå™¨å·¥å…·** (browser_action, search ç­‰)
3. **ä»£ç åˆ†æå·¥å…·** (list_code_definitions ç­‰)
4. **MCP åè®®** (æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯)

### é•¿æœŸç›®æ ‡
- å®ç° .clineignore æœºåˆ¶
- æ·»åŠ å¤š workspace æ”¯æŒ
- é›†æˆå®æ—¶ç¼–è¾‘å™¨
- å®ç° IDE é›†æˆ

**å½“å‰è¿›åº¦**: æ–‡ä»¶ç³»ç»Ÿå·¥å…·åŠŸèƒ½å®Œæ•´æ€§è¾¾åˆ° **82%**,å·²ç»å…·å¤‡ç”Ÿäº§ä½¿ç”¨èƒ½åŠ›ã€‚éšç€åç»­æ”¹è¿›,æˆ‘ä»¬å°†é€æ­¥è¾¾åˆ° Cline çš„åŠŸèƒ½æ°´å¹³ã€‚
